{% load comments %}

{% block additional_headers %}
  <script type="text/javascript" src="{{ STATIC_URL }}js/info_area.js"></script>
{% endblock %}

{% block content %}

    <table>
        <tr class="{% cycle 'darkTableRow' 'lightTableRow' %}">
            <td><img src="{{ STATIC_URL }}img/{{ elaboration.challenge.image_url }}" width="32" height="32"></td>
            <td>{{ elaboration.challenge.title }}</td>
            <td>{{ elaboration.submission_time }}</td>
            <td><div title="Success" class="success_reviews">{{ elaboration.get_success_reviews|length }}</div></td>
            <td><div title="Not even trying" class="notry_reviews">{{ elaboration.get_nothing_reviews|length }}</div></td>
            <td><div title="Fail" class="fail_reviews">{{ elaboration.get_fail_reviews|length }}</div></td>
            <td><div title="Public Comments" class="visible_comments">{{ elaboration.get_visible_comments|length }}</div></td>
            <td><div title="Private Comments" class="invisible_comments">{{ elaboration.get_invisible_comments|length }}</div></td>
        </tr>
    </table>

    <textarea id="editor_stack_rev">{{ elaboration.elaboration_text }}</textarea>
    <div class="spacer"></div>

    <div class="spacer"></div>
    {% if elaboration %}
        {% render_additional_comment_list for elaboration %}
    {% endif %}

    <div class="spacer"></div>
    {% if reviews %}
        {% include "reviews.html" %}
        <div class="spacer"></div>
    {% endif %}

{% endblock %}