<script type="text/javascript">
    $(document).ready(function() {
       $(".paginator").click(function(event) {
           var page = $(event.target);
           var page_id = page.attr('id');
           var challenge_id = page.attr('name');

           var url = '/submission?challenge_id=' + challenge_id + '&page=' + page_id;
           $.get(url, function (data) {
                $('#detail_area').html(data);
           });
       });
    });
</script>

{% block content %}

    {% for elaboration in elaborations %}
        {% if forloop.first %}
            <h2>challenge</h2>
            <div>title: {{ elaboration.challenge.title }}</div>
            <div>description: {{ elaboration.challenge.description }}</div>
            <br/><h2>submissions</h2>
        {% endif %}
        <div>user: {{ elaboration.user.username }}</div>
        <div>elaboration: {{ elaboration.elaboration_text }}</div></br>
    {% endfor %}

    <div class="pagination">
        {% if elaborations.has_previous %}
            <div class="paginator" id="{{ elaborations.previous_page_number }}" name="{{ challenge.id }}">previous</div>
        {% endif %}

        <div class="paginator_info">
             submission {{ elaborations.number }} of {{ elaborations.paginator.num_pages }}
        </div>

        {% if elaborations.has_next %}
            <div class="paginator" id="{{ elaborations.next_page_number }}" name="{{ challenge.id }}">next</div>
        {% endif %}
    </div>

{% endblock %}